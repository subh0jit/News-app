(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{187:function(e,a,t){e.exports=t.p+"static/media/logo.6c645e7d.svg"},190:function(e,a,t){},191:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(68),c=t.n(r),s=(t(78),t(24)),i=t(9),o=t(22),m=t(23),d=t(26),u=t(25),h="bmtUl0F6u8RGaYgdvbnetkVNSYcj9Ox5",v="https://api.nytimes.com/svc/search/v2/articlesearch.json",E=t(27),g=t.n(E),p=function(e){return l.a.createElement("div",{className:"navbar-fixed"},l.a.createElement("nav",{className:"light-blue lighten-1"},l.a.createElement("div",{className:"nav-wrapper  nav-fixed "},l.a.createElement("a",{href:"#!",className:"brand-logo"},"The Newyork Times"),l.a.createElement("form",{className:"right white",style:{display:"flex"}},l.a.createElement("input",{type:"text",name:e.name,value:e.value,placeholder:"Search...",onChange:e.change,required:!0}),l.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault()},className:"btn blue",style:{marginTop:"1.5%"}},"Search")))))},f=function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("button",{class:"btn white circle"},l.a.createElement("div",{className:"preloader-wrapper small active center"},l.a.createElement("div",{className:"spinner-layer spinner-blue-only"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))))))},b=t(69),N=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={chartData:{labels:["2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"],datasets:[{label:"Article",data:[100,200,80,300,50,400,345,341,87,780],fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}]}},e}return Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{class:"card"},l.a.createElement("div",{className:"chart"},l.a.createElement(b.a,{data:this.state.chartData,options:{title:{display:!0,text:"Number of Article Published Each Year"},legend:{display:!0,position:"right"}}})))}}]),t}(n.Component),y=(t(187),function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement("ul",{id:"slide-out",className:"sidenav sidenav-fixed",style:{marginTop:"5%"}},l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},l.a.createElement("i",{className:"material-icons"},"assessment"),"Dashboard")),l.a.createElement("li",null,l.a.createElement("div",{className:"divider"})),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},l.a.createElement("i",{className:"material-icons"},"drafts"),"Articles")),l.a.createElement("li",null,l.a.createElement("div",{className:"divider"})),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/analytics"},l.a.createElement("i",{className:"material-icons"},"show_chart"),"Analytics")),l.a.createElement("li",null,l.a.createElement("div",{className:"divider"})),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},l.a.createElement("i",{className:"material-icons"},"message"),"Message")),l.a.createElement("li",null,l.a.createElement("div",{className:"divider"})),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},l.a.createElement("i",{className:"material-icons"},"event"),"Calendar")),l.a.createElement("li",null,l.a.createElement("div",{className:"divider"}))))}),k=t(38),w=t.n(k),C=(t(190),function(e){e.loading;var a=e.showPrevLink,t=e.showNextLink,n=e.handlePrevClick,r=e.handleNextClick;return l.a.createElement("div",null,l.a.createElement("a",{href:"#",className:"".concat(a,"?'show':'hide'"),onClick:n},"Prev"),l.a.createElement("a",{href:"#",className:"".concat(t,"?'show':'hide'"),onClick:r},"Next"))}),S=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={newsRetrieved:[],loading:!1,tableHeader:[],query:"",message:"",cancel:"",totalResults:0,totalPages:0,currentPageNo:0},e.handleOnInputChange=function(a){var t=a.target.value;console.log(t),e.setState({query:t,loading:!0,message:""},(function(){e.fetchedSearchResults(1,e.state.query)}))},e.fetchedSearchResults=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;console.log(t);var n=a?"&page=".concat(a):"";e.state.cancel&&e.state.cancel.cancel(),e.setState({cancel:g.a.CancelToken.source()}),e.setState({loading:!0}),console.log(t),g.a.get("".concat(v,"?q=").concat(t).concat(n,"&api-key=").concat(h),{cancelToken:e.state.cancel.token}).then((function(t){console.log(t),console.log(t.data.response.docs);var n=t.data.response.meta.hits/1e3,l=e.getPageCount(n,10),r=t.data.response.docs,c=Object.keys(t.data.response.docs[0]);e.setState({loading:!1,newsRetrieved:r,tableHeader:c,totalResults:n,totalPages:l,currentPageNo:a}),console.log(c)})).catch((function(a){(g.a.isCancel(a)||a)&&e.setState({loading:!1,message:"Failed to fetch"})}))},e.getPageCount=function(e,a){var t=0===e%a?0:1;return Math.floor(e/a)+t},e.handlePageClick=function(a,t){a.preventDefault();var n="prev"===t?e.state.currentPageNo-1:e.state.currentPageNo+1;e.state.loading||e.setState({loading:!1},(function(){e.fetchedSearchResults(n,e.state.query)}))},e}return Object(m.a)(t,[{key:"renderTableHeader",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("th",null,"Publishing date"),l.a.createElement("th",null,"Headline"),l.a.createElement("th",null,"Summary"),l.a.createElement("th",null,"URL"),l.a.createElement("th",null,"Source"))}},{key:"truncateString",value:function(e,a){return e.length<=a?e:e.slice(0,a)+"..."}},{key:"renderTableData",value:function(){var e=this;return this.state.newsRetrieved.map((function(a,t){return l.a.createElement("tr",{key:a._id},l.a.createElement("td",null,e.truncateString(w()(a.pub_date).calendar(),25)),l.a.createElement("td",{title:a.abstract},e.truncateString(a.abstract,20)),l.a.createElement("td",{title:a.headline.main},e.truncateString(a.headline.main,20)),l.a.createElement("td",{title:a.web_url},l.a.createElement("a",{href:a.web_url,target:"_blank"},e.truncateString(a.web_url,20))),l.a.createElement("td",{title:a.source},e.truncateString(a.source,20)))}))}},{key:"render",value:function(){var e=this,a=l.a.createElement("table",{className:"responsive-table striped"},l.a.createElement("tbody",null,l.a.createElement("tr",null,this.renderTableHeader()),this.renderTableData()));this.state.loading&&(a=l.a.createElement(f,null));var t=this.state,n=t.query,r=t.loading,c=(t.message,t.currentPageNo),s=1<c,i=t.totalPages>c;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{change:this.handleOnInputChange,value:n,name:"query"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s3"},l.a.createElement(y,null)),l.a.createElement("div",{className:"col s9"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"card-title"},l.a.createElement("span",null,"ARTICLES")),a),l.a.createElement("div",{className:"card-action"},"Pagination",l.a.createElement(C,{loading:r,showPrevLink:s,showNextLink:i,handlePrevClick:function(a){return e.handlePageClick(a,"prev")},handleNextClick:function(a){return e.handlePageClick(a,"next")}}))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s9 offset-s3"},l.a.createElement(N,null))))}}]),t}(n.Component);var P=function(){return l.a.createElement(s.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/analytics",component:N}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,a,t){e.exports=t(191)},78:function(e,a,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.0fcde199.chunk.js.map